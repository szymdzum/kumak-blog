/* Global Typography - Semantic, Variable-Driven */

@import './variables.css';

:root {
  font-size: calc(1rem + 0.25vw);
}

@media (min-width: 40em) {
  :root {
    font-size: calc(1rem + 0.375vw);
  }
}

@media (min-width: 64em) {
  :root {
    font-size: calc(1rem + 0.5vw);
  }
}

html {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--color-text);
  /* background: var(--primary-background); */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;
  background: inherit;
}

a {
  color: var(--color-primary);
  text-decoration-thickness: max(0.08em, 1px);
  text-underline-offset: 0.15em;
  transition: color var(--theme-transition);
}

a:hover,
a:focus {
  color: var(--color-accent);
  text-decoration: underline;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-family-heading);
  line-height: var(--line-height-tight);
  margin-top: 0;
  font-weight: 900;
  letter-spacing: 0.06em;
}

h1 {
  font-size: var(--font-size-3xl);
  margin-bottom: var(--s2);
  letter-spacing: 0.12em;
}

h2 {
  font-size: var(--font-size-2xl);
  text-transform: uppercase;
  letter-spacing: 0.10em;
}

h3 {
  font-size: var(--font-size-xl);
  font-weight: 500;
  letter-spacing: 0.02em;
}

h4 {
  font-size: var(--font-size-lg);
  font-variant: small-caps;
  font-weight: 700;
  letter-spacing: 0.06em;
}

h5 {
  font-size: var(--font-size-base);
  margin-bottom: var(--s0);
  font-weight: 700;
  letter-spacing: 0.04em;
  margin-top: var(--s1);
}

p {
  margin-top: 0;
  margin-bottom: var(--s1);
  max-width: var(--measure);
  color: var(--color-text);
  line-height: var(--line-height-base);
}

ul,
ol {
  margin-top: 0;
  margin-bottom: var(--s1);
  padding-left: var(--s2);
  max-width: var(--measure);
}

blockquote {
  margin: var(--s2) 0;
  padding-left: var(--s1);
  border-left: 4px solid var(--color-border);
  color: var(--color-muted);
  font-style: italic;
}

code {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  padding: 0.2em 0.4em;
  background: var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-accent);
}

pre {
  font-family: var(--font-family-mono);
  font-size: var(--font-size-base);
  padding: var(--s1);
  margin: var(--s2) 0;
  background: var(--color-border);
  border-radius: var(--radius);
  overflow-x: auto;
  color: var(--color-text);
}

pre code {
  background: none;
  padding: 0;
  color: inherit;
  font-size: inherit;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: var(--s2) 0;
}

/* Accessibility: Focus styles */
a:focus,
button:focus,
input:focus,
textarea:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/*
  .post-content: Blog/article content container
  These rules provide fluid typography, optimal line length, and spacing for blog posts.
  If you need to adjust blog/article layout, do so here.
*/
.post-content {
  /* Increased to 80ch for a wider, more efficient text layout, matching section:not(.hero) */
  --min-width: 320px;
  --max-width: 80ch;
  --min-font: 1rem;
  /* 16px */
  --max-font: 1.25rem;
  /* 20px */
  --rhythm: 1.5rem;

  width: min(var(--max-width), 90vw);
  margin: 0 auto;

  /* Fluid typography formula */
  font-size: clamp(var(--min-font), var(--min-font) + (var(--max-font) - var(--min-font)) * ((100vw - var(--min-width)) / (var(--max-width) - var(--min-width))), var(--max-font));

  /* Maintain optimal line length */
  max-width: 80ch;
  line-height: 1.6;

  p,
  ul,
  ol,
  blockquote,
  pre {
    margin-bottom: var(--rhythm);
  }

  h2 {
    margin-top: calc(var(--rhythm) * 2);
    margin-bottom: var(--rhythm);
  }

  /* Option 1: Spacing between paragraphs */
  p + p {
    margin-top: var(--rhythm);
  }
}

html,
body {
  font-family: var(--font-family-base);
}
